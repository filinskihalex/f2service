<!DOCTYPE html>
<html lang="ru">
  <head>
    <meta charset="UTF-8"/>
    <title>не получается создать бд в PostgreSQL</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <meta name="description" content=" ОШИБКА: исходная база &quot;template1&quot;"/>
    <meta name="keywords" content=" ОШИБКА: исходная база &quot;template1&quot;"/>
    <link rel="stylesheet" href="../../css/style.min.css"/>
    <link href="../../icons/favicon.ico" type="image/x-icon" rel="icon"/>
  </head>
  <body>
    <main class="grid">
      <header>
        <div class="subheader">
          <div class="wrapper"><a class="subheader_logo" href="http://f2service.ru"><img src="../../icons/logo.png" alt="logo"/></a></div>
          <div class="subheader_call">Звоните нам ежедневно<a class="subheader_phone" href="tel:+1111111">+7 978-1111111</a></div>
          <button class="subheader_btn">Отправить заявку</button>
        </div>
        <nav>
          <div class="container">
            <ul class="menu">
              <li class="menu__list"><a class="menu__link" href="../../index.html">Главная</a></li>
              <li class="menu__list"><a class="menu__link" href="#">  WEb разработка</a>
                <ul class="menu__drop">
                  <li class="menu__drop__list"><a href="../html/html.html">HTML</a></li>
                </ul>
              </li>
              <li class="menu__list"><a class="menu__link" href="../system/system.html"> Администрирование</a>
                <ul class="menu__drop">
                  <li class="menu__drop__list"><a href="../windows/windows.html">Windows</a></li>
                  <li class="menu__drop__list"><a href="../linux/linux.html">Linux</a></li>
                  <li class="menu__drop__list"><a href="../docker/docker_index.html">Docker</a></li>
                  <li class="menu__drop__list"><a href="../git/git.html">Git</a></li>
                  <li class="menu__drop__list"> <a href="../sql/sql_index.html">SQL</a></li>
                </ul>
              </li>
              <li class="menu__list"><a class="menu_link" href="../answer/answer.html">Вопросы & Ответы</a></li>
              <li class="menu__list"><a class="menu_link" href="http://file.f2service.ru"> Скачать ПО</a></li>
            </ul>
          </div>
        </nav>
      </header>
      <section>
        <div class="content">
          <p>ОШИБКА: исходная база "template1" занята другими пользователями DETAIL: Эта база данных используется ещё в 1 сеансе.</p>
          <p>Проблема простая и причина ошибки сразу указана в тексте ошибки:</p>
          <p>Эта база данных используется ещё в 1 сеансе.</p>
          <p>Посмотреть какие это сессии можно запросом:</p>
          <p>select * from pg_stat_activity where datname = 'template1';</p>
          <p>Принудительно их завершить запросом:</p>
          <p>select pg_terminate_backend(pid) from pg_stat_activity where datname = 'template1';</p>
          <p>После завершения всех сессий к этой базе create database успешно выполнится.</p>
          <p>Непонятна здесь может деталь, при чём тут какой-то template1 когда вы командуете, допустим,</p>
          <p>create database newdb;</p>
          <p>Где тут template1 и как для создания новой пустой БД мешают сессии в template1?</p>
          <p>Фокус здесь в том, что вообще-то create database не умеет создавать новые базы с нуля из ничего. Это умеет только initdb при инициализации всего экземпляра postgresql. А create database умеет только создавать копию базы указанную параметром template со значением по-умолчанию как раз template1. При этом, чтобы не получить несогласованное состояние файлов базы из-за параллельного изменения этой базы кем-то ещё create database требует, чтобы никто к этой template базе не был подключен вообще.</p><a href="../sql/sql_select.html">Простые запросы с Select</a>
        </div>
      </section>
      <sidebar></sidebar>
      <footer>
        <div class="container">
          <div class="copyraiting"> Copyright © 2020 <a href="www.f2service.ru" target="_blank">www.f2service.ru</a></div>
          <div class="social"></div>
        </div>
      </footer>
    </main>
  </body>
</html>